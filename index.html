<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰«é›·æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #000000 0%, #f8f8f8 100%);
            color: #e6e6e6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            width: 100%;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: #ff00d4;
            text-shadow: 0 0 10px rgba(255, 0, 217, 0.692);
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #ffffff;
            text-shadow: 0 0 10px rgba(194, 127, 184, 0.678);
            margin-bottom: 20px;
        }
        
        .game-area {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            width: 100%;
        }
        
        .game-board {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            border: 1px solid #444;
            min-width: 300px;
        }
        
        .controls {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            border: 1px solid #444;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .board {
            display: grid;
            gap: 2px;
            margin: 0 auto;
            background: #ffffff;
            padding: 5px;
            border-radius: 5px;
        }
        
        .cell {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            border-radius: 3px;
            transition: all 0.2s;
            user-select: none;
        }
        
        .cell.hidden {
            background: #ffeb14;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);
        }
        
        .cell.hidden:hover {
            background: #454580;
        }
        
        .cell.revealed {
            background: #000000;
        }
        
        .cell.flagged {
            background: #8c5a5a;
        }
        
        .cell.mine {
            background: #8c3a3a;
        }
        
        .number-1 { color: #0077ff; }
        .number-2 { color: #00aa00; }
        .number-3 { color: #ff0000; }
        .number-4 { color: #000077; }
        .number-5 { color: #770000; }
        .number-6 { color: #007777; }
        .number-7 { color: #000000; }
        .number-8 { color: #777777; }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .stat {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        button {
            background: #5a5a8c;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #6a6a9c;
        }
        
        button:active {
            transform: translateY(2px);
        }
        
        .difficulty-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .difficulty-buttons button {
            flex: 1;
        }
        
        .difficulty-buttons button.active {
            background: #ffd700;
            color: #1a1a2e;
        }
        
        .game-info {
            margin-top: 20px;
            text-align: center;
            font-size: 1.1rem;
            min-height: 30px;
        }
        
        .win {
            color: #00ff00;
            font-weight: bold;
        }
        
        .lose {
            color: #ff0000;
            font-weight: bold;
        }
        
        .instructions {
            margin-top: 30px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            border: 1px solid #444;
            width: 100%;
            max-width: 800px;
        }
        
        .instructions h2 {
            color: #ffd700;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .instructions ul {
            list-style-type: none;
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
            position: relative;
            padding-left: 25px;
        }
        
        .instructions li:before {
            content: "â€¢";
            color: #ffd700;
            position: absolute;
            left: 0;
            font-size: 1.2rem;
        }
        
        @media (max-width: 768px) {
            .game-area {
                flex-direction: column;
                align-items: center;
            }
            
            .game-board, .controls {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>æ— æ•Œå¤©ç¥åŠ›ä½œ</h1>
            <div class="subtitle">ä½ ä¼šæœ‰å±äºè‡ªå·±çš„å…‰èŠ’</div>
        </header>
        
        <div class="game-area">
            <div class="game-board">
                <div class="stats">
                    <div class="stat">â±ï¸ æ—¶é—´: <span id="timer">0</span>ç§’</div>
                    <div class="stat">ğŸš© æ ‡è®°: <span id="flags">0</span>/<span id="total-mines">10</span></div>
                </div>
                <div id="board" class="board"></div>
                <div id="game-info" class="game-info"></div>
            </div>
            
            <div class="controls">
                <h3>æ¸¸æˆæ§åˆ¶</h3>
                <button id="new-game">å¼€å§‹æ–°æ¸¸æˆ</button>
                <button id="reset">é‡æ–°å¼€å§‹</button>
                <button><a href="https://pvp.qq.com/">ç”¨æˆ·æ’è¡Œ</a></button>
                <button><a href="https://ys.mihoyo.com/?utm_source=backup307&from_channel=backup307#/">æ›´å¤šæ¸¸æˆ</a></button>
                
                <h3 style="margin-top: 15px;">éš¾åº¦é€‰æ‹©</h3>
                <div class="difficulty-buttons">
                    <button id="easy" class="active">ç®€å• (9Ã—9)</button>
                    <button id="medium">ä¸­ç­‰ (16Ã—16)</button>
                    <button id="hard">å›°éš¾ (16Ã—30)</button>
                </div>
                
                <h3 style="margin-top: 15px;">æ“ä½œè¯´æ˜</h3>
                <p>å·¦é”®: æ­å¼€æ ¼å­</p>
                <p>å³é”®: æ ‡è®°/å–æ¶ˆæ ‡è®°åœ°é›·</p>
            </div>
        </div>
        
        <div class="instructions">
            <h2>æ¸¸æˆè§„åˆ™</h2>
            <ul>
                <li><big><strong>æˆ‘æ— æ•Œï¼Œä½ éšæ„</strong></big></li>
                <li><del>æ•°å­—è¡¨ç¤ºå‘¨å›´8ä¸ªæ ¼å­ä¸­çš„åœ°é›·æ•°é‡</del></li>
                <li>ä½ è¯´å¾—å¯¹ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼šè°é—®ä½ äº†ï¼Ÿ</li>
                <li><small>å¦‚æœæ­å¼€çš„æ ¼å­æ˜¯ç©ºçš„ï¼Œä¼šè‡ªåŠ¨æ­å¼€å‘¨å›´çš„æ ¼å­</small></li>
                <li>æˆ‘çš„æ„æ€æ˜¯ï¼Œè°é—®çš„ä½ ï¼Ÿ</li>
                <li>æ ‡è®°æ‰€æœ‰åœ°é›·å¹¶æ­å¼€æ‰€æœ‰å®‰å…¨æ ¼å­è·èƒœ</li>
            </ul>
            
        </div>
    </div>
    <div style="
    text-align: center;
    margin:auto;
    padding: 30px;
    line-height: 0.8;
    ">
    <a href="https://www.bilibili.com/video/BV1GJ411x7h7/?spm_id_from=333.337.search-card.all.click&vd_source=00024a1f7dc07bcf539a4e94ecf13ed3">äº†è§£æ›´å¤š</a>
    <a href="https://www.bilibili.com/video/BV1XM4y1c7Jp/?spm_id_from=333.1387.favlist.content.click&vd_source=00024a1f7dc07bcf539a4e94ecf13ed3">å¤‡ç”¨ç½‘ç«™</a>
    </div>

    <script>
        // æ¸¸æˆé…ç½®
        const DIFFICULTY = {
            EASY: { rows: 9, cols: 9, mines: 10 },
            MEDIUM: { rows: 16, cols: 16, mines: 40 },
            HARD: { rows: 16, cols: 30, mines: 99 }
        };

        // æ¸¸æˆçŠ¶æ€
        let gameState = {
            board: [],
            revealed: [],
            flagged: [],
            mines: [],
            gameOver: false,
            gameWon: false,
            firstClick: true,
            startTime: null,
            timerInterval: null,
            difficulty: DIFFICULTY.EASY
        };

        // DOMå…ƒç´ 
        const boardElement = document.getElementById('board');
        const timerElement = document.getElementById('timer');
        const flagsElement = document.getElementById('flags');
        const totalMinesElement = document.getElementById('total-mines');
        const gameInfoElement = document.getElementById('game-info');
        const newGameButton = document.getElementById('new-game');
        const resetButton = document.getElementById('reset');
        const difficultyButtons = {
            easy: document.getElementById('easy'),
            medium: document.getElementById('medium'),
            hard: document.getElementById('hard')
        };

        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            const { rows, cols, mines } = gameState.difficulty;
            
            // é‡ç½®æ¸¸æˆçŠ¶æ€
            gameState.board = Array(rows).fill().map(() => Array(cols).fill(0));
            gameState.revealed = Array(rows).fill().map(() => Array(cols).fill(false));
            gameState.flagged = Array(rows).fill().map(() => Array(cols).fill(false));
            gameState.mines = [];
            gameState.gameOver = false;
            gameState.gameWon = false;
            gameState.firstClick = true;
            
            // é‡ç½®è®¡æ—¶å™¨
            if (gameState.timerInterval) {
                clearInterval(gameState.timerInterval);
            }
            timerElement.textContent = '0';
            gameState.startTime = null;
            
            // æ›´æ–°æ ‡è®°è®¡æ•°
            flagsElement.textContent = '0';
            totalMinesElement.textContent = mines;
            
            // æ¸…ç©ºæ¸¸æˆä¿¡æ¯
            gameInfoElement.textContent = '';
            gameInfoElement.className = 'game-info';
            
            // åˆ›å»ºæ¸¸æˆæ¿
            createBoard();
        }

        // åˆ›å»ºæ¸¸æˆæ¿
        function createBoard() {
            const { rows, cols } = gameState.difficulty;
            
            // è®¾ç½®ç½‘æ ¼å¸ƒå±€
            boardElement.style.gridTemplateColumns = `repeat(${cols}, 30px)`;
            boardElement.style.gridTemplateRows = `repeat(${rows}, 30px)`;
            boardElement.innerHTML = '';
            
            // åˆ›å»ºæ ¼å­
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell hidden';
                    cell.dataset.row = row;
                    cell.dataset.col = col;
                    
                    // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                    cell.addEventListener('click', () => handleCellClick(row, col));
                    cell.addEventListener('contextmenu', (e) => {
                        e.preventDefault();
                        handleRightClick(row, col);
                    });
                    
                    boardElement.appendChild(cell);
                }
            }
        }

        // ç”Ÿæˆåœ°é›·
        // ç”Ÿæˆåœ°é›·
function generateMines(excludeRow, excludeCol) {
    const { rows, cols, mines } = gameState.difficulty;
    gameState.mines = [];
    
    // ç”Ÿæˆåœ°é›·ä½ç½®
    while (gameState.mines.length < mines) {
        const row = Math.floor(Math.random() * rows);
        const col = Math.floor(Math.random() * cols);
        
        // ç¡®ä¿ç¬¬ä¸€ä¸ªç‚¹å‡»çš„æ ¼å­åŠå…¶å‘¨å›´8ä¸ªæ ¼å­ä¸æ˜¯åœ°é›·
        if (gameState.firstClick) {
            const isExcluded = Math.abs(row - excludeRow) <= 1 && Math.abs(col - excludeCol) <= 1;
            if (isExcluded) continue;
        }
        
        // ç¡®ä¿ä¸é‡å¤
        const mineExists = gameState.mines.some(mine => mine.row === row && mine.col === col);
        if (!mineExists) {
            gameState.mines.push({ row, col });
            gameState.board[row][col] = -1; // -1 è¡¨ç¤ºåœ°é›·
        }
    }
    
    // è®¡ç®—æ¯ä¸ªæ ¼å­çš„æ•°å­—
    calculateNumbers();
}

// å¤„ç†æ ¼å­ç‚¹å‡»
function handleCellClick(row, col) {
    if (gameState.gameOver || gameState.gameWon || gameState.flagged[row][col]) {
        return;
    }
    
    // å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ç‚¹å‡»ï¼Œç”Ÿæˆåœ°é›·ï¼ˆæ’é™¤å½“å‰ç‚¹å‡»ä½ç½®åŠå…¶å‘¨å›´ï¼‰
    if (gameState.firstClick) {
        gameState.firstClick = false;
        generateMines(row, col); // ä¼ å…¥å½“å‰ç‚¹å‡»ä½ç½®
        startTimer();
    }
    
    // å¦‚æœç‚¹å‡»çš„æ˜¯åœ°é›·ï¼Œæ¸¸æˆç»“æŸ
    if (gameState.board[row][col] === -1) {
        revealAllMines();
        gameState.gameOver = true;
        gameInfoElement.textContent = 'æ¸¸æˆç»“æŸï¼ä½ è¸©åˆ°äº†åœ°é›·ï¼';
        gameInfoElement.className = 'game-info lose';
        return;
    }
    
    // æ­å¼€æ ¼å­
    revealCell(row, col);
    
    // æ£€æŸ¥æ˜¯å¦è·èƒœ
    if (checkWin()) {
        gameState.gameWon = true;
        gameInfoElement.textContent = 'æ­å–œï¼ä½ èµ¢äº†ï¼';
        gameInfoElement.className = 'game-info win';
    }
}

        // è®¡ç®—æ•°å­—
        function calculateNumbers() {
            const { rows, cols } = gameState.difficulty;
            
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    // å¦‚æœå½“å‰æ ¼å­æ˜¯åœ°é›·ï¼Œè·³è¿‡
                    if (gameState.board[row][col] === -1) continue;
                    
                    let count = 0;
                    
                    // æ£€æŸ¥å‘¨å›´8ä¸ªæ ¼å­
                    for (let r = -1; r <= 1; r++) {
                        for (let c = -1; c <= 1; c++) {
                            if (r === 0 && c === 0) continue;
                            
                            const newRow = row + r;
                            const newCol = col + c;
                            
                            if (newRow >= 0 && newRow < rows && newCol >= 0 && newCol < cols) {
                                if (gameState.board[newRow][newCol] === -1) {
                                    count++;
                                }
                            }
                        }
                    }
                    
                    gameState.board[row][col] = count;
                }
            }
        }

        // å¤„ç†æ ¼å­ç‚¹å‡»
        function handleCellClick(row, col) {
            if (gameState.gameOver || gameState.gameWon || gameState.flagged[row][col]) {
                return;
            }
            
            // å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ç‚¹å‡»ï¼Œç”Ÿæˆåœ°é›·
            if (gameState.firstClick) {
                gameState.firstClick = false;
                generateMines(row, col);
                startTimer();
            }
            
            // å¦‚æœç‚¹å‡»çš„æ˜¯åœ°é›·ï¼Œæ¸¸æˆç»“æŸ
            if (gameState.board[row][col] === -1) {
                revealAllMines();
                gameState.gameOver = true;
                gameInfoElement.textContent = 'æ¸¸æˆç»“æŸï¼ä½ è¸©åˆ°äº†åœ°é›·ï¼';
                gameInfoElement.className = 'game-info lose';
                return;
            }
            
            // æ­å¼€æ ¼å­
            revealCell(row, col);
            
            // æ£€æŸ¥æ˜¯å¦è·èƒœ
            if (checkWin()) {
                gameState.gameWon = true;
                gameInfoElement.textContent = 'æ­å–œï¼ä½ èµ¢äº†ï¼';
                gameInfoElement.className = 'game-info win';
            }
        }

        // å¤„ç†å³é”®ç‚¹å‡»ï¼ˆæ ‡è®°ï¼‰
        function handleRightClick(row, col) {
            if (gameState.gameOver || gameState.gameWon || gameState.revealed[row][col]) {
                return;
            }
            
            // åˆ‡æ¢æ ‡è®°çŠ¶æ€
            gameState.flagged[row][col] = !gameState.flagged[row][col];
            
            // æ›´æ–°æ ‡è®°è®¡æ•°
            updateFlagCount();
            
            // æ›´æ–°æ ¼å­æ˜¾ç¤º
            updateCellDisplay(row, col);
        }

        // æ­å¼€æ ¼å­
        function revealCell(row, col) {
            const { rows, cols } = gameState.difficulty;
            
            // å¦‚æœæ ¼å­å·²ç»æ­å¼€æˆ–æ ‡è®°ï¼Œè¿”å›
            if (gameState.revealed[row][col] || gameState.flagged[row][col]) {
                return;
            }
            
            // æ ‡è®°ä¸ºå·²æ­å¼€
            gameState.revealed[row][col] = true;
            
            // æ›´æ–°æ ¼å­æ˜¾ç¤º
            updateCellDisplay(row, col);
            
            // å¦‚æœæ ¼å­æ˜¯ç©ºçš„ï¼ˆæ•°å­—ä¸º0ï¼‰ï¼Œé€’å½’æ­å¼€å‘¨å›´çš„æ ¼å­
            if (gameState.board[row][col] === 0) {
                for (let r = -1; r <= 1; r++) {
                    for (let c = -1; c <= 1; c++) {
                        if (r === 0 && c === 0) continue;
                        
                        const newRow = row + r;
                        const newCol = col + c;
                        
                        if (newRow >= 0 && newRow < rows && newCol >= 0 && newCol < cols) {
                            revealCell(newRow, newCol);
                        }
                    }
                }
            }
        }

        // æ›´æ–°æ ¼å­æ˜¾ç¤º
        function updateCellDisplay(row, col) {
            const cell = document.querySelector(`.cell[data-row="${row}"][data-col="${col}"]`);
            
            if (!cell) return;
            
            // æ¸…é™¤æ‰€æœ‰ç±»
            cell.className = 'cell';
            
            if (gameState.flagged[row][col]) {
                cell.classList.add('flagged');
                cell.textContent = 'ğŸš©';
            } else if (gameState.revealed[row][col]) {
                cell.classList.add('revealed');
                
                const value = gameState.board[row][col];
                if (value === -1) {
                    cell.classList.add('mine');
                    cell.textContent = 'ğŸ’£';
                } else if (value > 0) {
                    cell.classList.add(`number-${value}`);
                    cell.textContent = value;
                } else {
                    cell.textContent = '';
                }
            } else {
                cell.classList.add('hidden');
                cell.textContent = '';
            }
        }

        // æ­å¼€æ‰€æœ‰åœ°é›·ï¼ˆæ¸¸æˆç»“æŸæ—¶ï¼‰
        function revealAllMines() {
            const { rows, cols } = gameState.difficulty;
            
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    if (gameState.board[row][col] === -1) {
                        gameState.revealed[row][col] = true;
                        updateCellDisplay(row, col);
                    }
                }
            }
        }

        // æ£€æŸ¥æ˜¯å¦è·èƒœ
        function checkWin() {
            const { rows, cols, mines } = gameState.difficulty;
            
            let revealedCount = 0;
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    if (gameState.revealed[row][col]) {
                        revealedCount++;
                    }
                }
            }
            
            // è·èƒœæ¡ä»¶ï¼šæ­å¼€çš„æ ¼å­æ•° = æ€»æ ¼å­æ•° - åœ°é›·æ•°
            return revealedCount === (rows * cols - mines);
        }

        // æ›´æ–°æ ‡è®°è®¡æ•°
        function updateFlagCount() {
            const { rows, cols } = gameState.difficulty;
            
            let flagCount = 0;
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    if (gameState.flagged[row][col]) {
                        flagCount++;
                    }
                }
            }
            
            flagsElement.textContent = flagCount;
        }

        // å¼€å§‹è®¡æ—¶å™¨
function startTimer() {
    gameState.startTime = Date.now();
    
    gameState.timerInterval = setInterval(() => {
        const elapsedSeconds = Math.floor((Date.now() - gameState.startTime) / 1000);
        timerElement.textContent = elapsedSeconds;
    }, 1000);
}

function stopTimer() {
    if (gameState.timerInterval) {
        clearInterval(gameState.timerInterval);
        gameState.timerInterval = null;
    }
}

// åœ¨æ¸¸æˆç»“æŸæ—¶è°ƒç”¨ stopTimer()
function handleCellClick(row, col) {
    if (gameState.gameOver || gameState.gameWon || gameState.flagged[row][col]) {
        return;
    }
    
    // å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ç‚¹å‡»ï¼Œç”Ÿæˆåœ°é›·
    if (gameState.firstClick) {
        gameState.firstClick = false;
        generateMines(row, col);
        startTimer();
    }
    
    // å¦‚æœç‚¹å‡»çš„æ˜¯åœ°é›·ï¼Œæ¸¸æˆç»“æŸ
    if (gameState.board[row][col] === -1) {
        revealAllMines();
        gameState.gameOver = true;
        stopTimer(); // æ¸¸æˆç»“æŸæ—¶åœæ­¢è®¡æ—¶
        gameInfoElement.textContent = 'æ¸¸æˆç»“æŸï¼ä½ è¸©åˆ°äº†åœ°é›·ï¼';
        gameInfoElement.className = 'game-info lose';
        return;
    }
    
    // æ­å¼€æ ¼å­
    revealCell(row, col);
    
    // æ£€æŸ¥æ˜¯å¦è·èƒœ
    if (checkWin()) {
        gameState.gameWon = true;
        stopTimer(); // æ¸¸æˆèƒœåˆ©æ—¶åœæ­¢è®¡æ—¶
        gameInfoElement.textContent = 'æ­å–œï¼ä½ èµ¢äº†ï¼';
        gameInfoElement.className = 'game-info win';
    }
}

// åœ¨é‡æ–°å¼€å§‹æ¸¸æˆæ—¶ä¹Ÿè¦åœæ­¢è®¡æ—¶å™¨
function initGame() {
    const { rows, cols, mines } = gameState.difficulty;
    
    // é‡ç½®æ¸¸æˆçŠ¶æ€
    gameState.board = Array(rows).fill().map(() => Array(cols).fill(0));
    gameState.revealed = Array(rows).fill().map(() => Array(cols).fill(false));
    gameState.flagged = Array(rows).fill().map(() => Array(cols).fill(false));
    gameState.mines = [];
    gameState.gameOver = false;
    gameState.gameWon = false;
    gameState.firstClick = true;
    
    // é‡ç½®è®¡æ—¶å™¨
    stopTimer(); // ç¡®ä¿åœ¨åˆå§‹åŒ–æ—¶åœæ­¢è®¡æ—¶å™¨
    timerElement.textContent = '0';
    gameState.startTime = null;
    
    // æ›´æ–°æ ‡è®°è®¡æ•°
    flagsElement.textContent = '0';
    totalMinesElement.textContent = mines;
    
    // æ¸…ç©ºæ¸¸æˆä¿¡æ¯
    gameInfoElement.textContent = '';
    gameInfoElement.className = 'game-info';
    
    // åˆ›å»ºæ¸¸æˆæ¿
    createBoard();
}

        // è®¾ç½®éš¾åº¦
        function setDifficulty(difficulty) {
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            Object.values(difficultyButtons).forEach(btn => btn.classList.remove('active'));
            difficultyButtons[difficulty].classList.add('active');
            
            // æ›´æ–°æ¸¸æˆéš¾åº¦
            gameState.difficulty = DIFFICULTY[difficulty.toUpperCase()];
            
            // é‡æ–°å¼€å§‹æ¸¸æˆ
            initGame();
        }

        // äº‹ä»¶ç›‘å¬å™¨
        newGameButton.addEventListener('click', initGame);
        resetButton.addEventListener('click', initGame);

        difficultyButtons.easy.addEventListener('click', () => setDifficulty('easy'));
        difficultyButtons.medium.addEventListener('click', () => setDifficulty('medium'));
        difficultyButtons.hard.addEventListener('click', () => setDifficulty('hard'));

        // åˆå§‹åŒ–æ¸¸æˆ
        initGame();
    </script>
</body>
</html>